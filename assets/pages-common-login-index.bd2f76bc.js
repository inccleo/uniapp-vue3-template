import{N as e,O as t,U as o,o as n,c as i,w as s,n as a,h as r,q as l,F as u,L as d,k as p,b as c,t as h,g as m,f as g,I as f,J as y,a as b,K as $,R as S,l as v,V as x,W as _,d as T,r as C,X as w,e as z,M as N,B as k,C as I,Y as M,Z as B,_ as E}from"./index-ec66fcab.js";import{_ as R,a as G}from"./u-icon.04d0172b.js";const P=R({name:"u-loading-icon",mixins:[e,t,{props:{show:{type:Boolean,default:()=>uni.$u.props.loadingIcon.show},color:{type:String,default:()=>uni.$u.props.loadingIcon.color},textColor:{type:String,default:()=>uni.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:()=>uni.$u.props.loadingIcon.vertical},mode:{type:String,default:()=>uni.$u.props.loadingIcon.mode},size:{type:[String,Number],default:()=>uni.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:()=>uni.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:()=>uni.$u.props.loadingIcon.text},timingFunction:{type:String,default:()=>uni.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:()=>uni.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:()=>uni.$u.props.loadingIcon.inactiveColor}}}],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const e=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show(e){}},mounted(){this.init()},methods:{init(){setTimeout((()=>{}),20)},addEventListenerToWebview(){const e=o(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(e,t,o,f,y,b){const $=m,S=g;return e.show?(n(),i($,{key:0,class:a(["u-loading-icon",[e.vertical&&"u-loading-icon--vertical"]]),style:r([e.$u.addStyle(e.customStyle)])},{default:s((()=>[y.webviewHide?p("",!0):(n(),i($,{key:0,class:a(["u-loading-icon__spinner",[`u-loading-icon__spinner--${e.mode}`]]),ref:"ani",style:r({color:e.color,width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size),borderTopColor:e.color,borderBottomColor:b.otherBorderColor,borderLeftColor:b.otherBorderColor,borderRightColor:b.otherBorderColor,"animation-duration":`${e.duration}ms`,"animation-timing-function":"semicircle"===e.mode||"circle"===e.mode?e.timingFunction:""})},{default:s((()=>["spinner"===e.mode?(n(!0),l(u,{key:0},d(y.array12,((e,t)=>(n(),i($,{key:t,class:"u-loading-icon__dot"})))),128)):p("",!0)])),_:1},8,["class","style"])),e.text?(n(),i(S,{key:1,class:"u-loading-icon__text",style:r({fontSize:e.$u.addUnit(e.textSize),color:e.textColor})},{default:s((()=>[c(h(e.text),1)])),_:1},8,["style"])):p("",!0)])),_:1},8,["style","class"])):p("",!0)}],["__scopeId","data-v-26ba923b"]]);const q=R({name:"u-button",mixins:[e,t,{props:{hairline:{type:Boolean,default:()=>uni.$u.props.button.hairline},type:{type:String,default:()=>uni.$u.props.button.type},size:{type:String,default:()=>uni.$u.props.button.size},shape:{type:String,default:()=>uni.$u.props.button.shape},plain:{type:Boolean,default:()=>uni.$u.props.button.plain},disabled:{type:Boolean,default:()=>uni.$u.props.button.disabled},loading:{type:Boolean,default:()=>uni.$u.props.button.loading},loadingText:{type:[String,Number],default:()=>uni.$u.props.button.loadingText},loadingMode:{type:String,default:()=>uni.$u.props.button.loadingMode},loadingSize:{type:[String,Number],default:()=>uni.$u.props.button.loadingSize},openType:{type:String,default:()=>uni.$u.props.button.openType},formType:{type:String,default:()=>uni.$u.props.button.formType},appParameter:{type:String,default:()=>uni.$u.props.button.appParameter},hoverStopPropagation:{type:Boolean,default:()=>uni.$u.props.button.hoverStopPropagation},lang:{type:String,default:()=>uni.$u.props.button.lang},sessionFrom:{type:String,default:()=>uni.$u.props.button.sessionFrom},sendMessageTitle:{type:String,default:()=>uni.$u.props.button.sendMessageTitle},sendMessagePath:{type:String,default:()=>uni.$u.props.button.sendMessagePath},sendMessageImg:{type:String,default:()=>uni.$u.props.button.sendMessageImg},showMessageCard:{type:Boolean,default:()=>uni.$u.props.button.showMessageCard},dataName:{type:String,default:()=>uni.$u.props.button.dataName},throttleTime:{type:[String,Number],default:()=>uni.$u.props.button.throttleTime},hoverStartTime:{type:[String,Number],default:()=>uni.$u.props.button.hoverStartTime},hoverStayTime:{type:[String,Number],default:()=>uni.$u.props.button.hoverStayTime},text:{type:[String,Number],default:()=>uni.$u.props.button.text},icon:{type:String,default:()=>uni.$u.props.button.icon},iconColor:{type:String,default:()=>uni.$u.props.button.icon},color:{type:String,default:()=>uni.$u.props.button.color}}}],data:()=>({}),computed:{bemClass(){return this.color?this.bem("button",["shape","size"],["disabled","plain","hairline"]):this.bem("button",["type","shape","size"],["disabled","plain","hairline"])},loadingColor(){return this.plain?this.color?this.color:uni.$u.config.color[`u-${this.type}`]:"info"===this.type?"#c9c9c9":"rgb(200, 200, 200)"},iconColorCom(){return this.iconColor?this.iconColor:this.plain?this.color?this.color:this.type:"info"===this.type?"#000000":"#ffffff"},baseColor(){let e={};return this.color&&(e.color=this.plain?this.color:"white",this.plain||(e["background-color"]=this.color),-1!==this.color.indexOf("gradient")?(e.borderTopWidth=0,e.borderRightWidth=0,e.borderBottomWidth=0,e.borderLeftWidth=0,this.plain||(e.backgroundImage=this.color)):(e.borderColor=this.color,e.borderWidth="1px",e.borderStyle="solid")),e},nvueTextStyle(){let e={};return"info"===this.type&&(e.color="#323233"),this.color&&(e.color=this.plain?this.color:"white"),e.fontSize=this.textSize+"px",e},textSize(){let e=14,{size:t}=this;return"large"===t&&(e=16),"normal"===t&&(e=14),"small"===t&&(e=12),"mini"===t&&(e=10),e}},emits:["click","getphonenumber","getuserinfo","error","opensetting","launchapp"],methods:{clickHandler(){this.disabled||this.loading||uni.$u.throttle((()=>{this.$emit("click")}),this.throttleTime)},getphonenumber(e){this.$emit("getphonenumber",e)},getuserinfo(e){this.$emit("getuserinfo",e)},error(e){this.$emit("error",e)},opensetting(e){this.$emit("opensetting",e)},launchapp(e){this.$emit("launchapp",e)}}},[["render",function(e,t,o,d,m,v){const x=f(y("u-loading-icon"),P),_=g,T=f(y("u-icon"),G),C=S;return n(),i(C,{"hover-start-time":Number(e.hoverStartTime),"hover-stay-time":Number(e.hoverStayTime),"form-type":e.formType,"open-type":e.openType,"app-parameter":e.appParameter,"hover-stop-propagation":e.hoverStopPropagation,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,lang:e.lang,"data-name":e.dataName,"session-from":e.sessionFrom,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,onGetphonenumber:v.getphonenumber,onGetuserinfo:v.getuserinfo,onError:v.error,onOpensetting:v.opensetting,onLaunchapp:v.launchapp,"hover-class":e.disabled||e.loading?"":"u-button--active",class:a(["u-button u-reset-button",v.bemClass]),style:r([v.baseColor,e.$u.addStyle(e.customStyle)]),onClick:v.clickHandler},{default:s((()=>[e.loading?(n(),l(u,{key:0},[b(x,{mode:e.loadingMode,size:1.15*e.loadingSize,color:v.loadingColor},null,8,["mode","size","color"]),b(_,{class:"u-button__loading-text",style:r([{fontSize:v.textSize+"px"}])},{default:s((()=>[c(h(e.loadingText||e.text),1)])),_:1},8,["style"])],64)):(n(),l(u,{key:1},[e.icon?(n(),i(T,{key:0,name:e.icon,color:v.iconColorCom,size:1.35*v.textSize,customStyle:{marginRight:"2px"}},null,8,["name","color","size"])):p("",!0),$(e.$slots,"default",{},(()=>[b(_,{class:"u-button__text",style:r([{fontSize:v.textSize+"px"}])},{default:s((()=>[c(h(e.text),1)])),_:1},8,["style"])]),!0)],64))])),_:3},8,["hover-start-time","hover-stay-time","form-type","open-type","app-parameter","hover-stop-propagation","send-message-title","send-message-path","lang","data-name","session-from","send-message-img","show-message-card","onGetphonenumber","onGetuserinfo","onError","onOpensetting","onLaunchapp","hover-class","style","onClick","class"])}],["__scopeId","data-v-8a484ca9"]]);const K=R({name:"u-code",mixins:[e,t,{props:{seconds:{type:[String,Number],default:()=>uni.$u.props.code.seconds},startText:{type:String,default:()=>uni.$u.props.code.startText},changeText:{type:String,default:()=>uni.$u.props.code.changeText},endText:{type:String,default:()=>uni.$u.props.code.endText},keepRunning:{type:Boolean,default:()=>uni.$u.props.code.keepRunning},uniqueKey:{type:String,default:()=>uni.$u.props.code.uniqueKey}}}],data(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler(e){this.secNum=e}}},emits:["start","end","change"],methods:{checkKeepRunning(){let e=Number(v(this.uniqueKey+"_$uCountDownTimestamp"));if(!e)return this.changeEvent(this.startText);let t=Math.floor(+new Date/1e3);this.keepRunning&&e&&e>t?(this.secNum=e-t,x(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start(){this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((()=>{--this.secNum?this.changeEvent(this.changeText.replace(/x|X/,this.secNum)):(clearInterval(this.timer),this.timer=null,this.changeEvent(this.endText),this.secNum=this.seconds,this.$emit("end"),this.canGetCode=!0)}),1e3)},reset(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent(e){this.$emit("change",e)},setTimeToStorage(){if(this.keepRunning&&this.secNum>0&&this.secNum<=this.seconds){let e=Math.floor(+new Date/1e3);_({key:this.uniqueKey+"_$uCountDownTimestamp",data:e+Number(this.secNum)})}}},beforeUnmount(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}},[["render",function(e,t,o,s,a,r){const l=m;return n(),i(l,{class:"u-code"})}],["__scopeId","data-v-333c221d"]]),L=R(T({__name:"index",setup(e){const t=C("18502811111"),o=C("1234"),a=C(),l=C(null),u=w((()=>{const e={};return t.value&&o.value&&(e.color="#fff",e.backgroundColor=uni.$u.color.warning),e}));function d(e){a.value=e}function p(){var e;(null==(e=l.value)?void 0:e.canGetCode)?(k({title:"正在获取验证码"}),setTimeout((()=>{var e;I(),uni.$u.toast("验证码已发送"),null==(e=l.value)||e.start()}),1e3)):uni.$u.toast("倒计时结束后再发送")}function h(){uni.$u.test.mobile(t.value)&&(M("1234567890"),B({url:"/pages/tab/home/index"}))}return(e,$)=>{const v=m,x=E,_=f(y("u-button"),q),T=S,C=f(y("u-icon"),G),w=g;return n(),i(v,null,{default:s((()=>[b(v,{class:"login-form-wrap"},{default:s((()=>[b(v,{class:"title"},{default:s((()=>[c(" 欢迎登录 ")])),_:1}),b(x,{modelValue:z(t),"onUpdate:modelValue":$[0]||($[0]=e=>N(t)?t.value=e:null),class:"u-border-bottom",type:"number",placeholder:"请输入手机号"},null,8,["modelValue"]),b(v,{class:"u-border-bottom my-40rpx flex"},{default:s((()=>[b(x,{modelValue:z(o),"onUpdate:modelValue":$[1]||($[1]=e=>N(o)?o.value=e:null),class:"flex-1",type:"number",placeholder:"请输入验证码"},null,8,["modelValue"]),b(v,null,{default:s((()=>[b(K,{ref_key:"uCodeRef",ref:l,onChange:d},null,512),b(_,{text:z(a),type:"success",size:"mini",onClick:p},null,8,["text"])])),_:1})])),_:1}),b(T,{style:r([z(u)]),class:"login-btn",onClick:h},{default:s((()=>[c(" 登录 ")])),_:1},8,["style"]),b(v,{class:"alternative"},{default:s((()=>[b(v,{class:"password"},{default:s((()=>[c(" 密码登录 ")])),_:1}),b(v,{class:"issue"},{default:s((()=>[c(" 遇到问题 ")])),_:1})])),_:1})])),_:1}),b(v,{class:"login-type-wrap"},{default:s((()=>[b(v,{class:"item wechat"},{default:s((()=>[b(v,{class:"icon"},{default:s((()=>[b(C,{size:"35",name:"weixin-fill",color:"rgb(83,194,64)"})])),_:1}),c(" 微信 ")])),_:1}),b(v,{class:"item QQ"},{default:s((()=>[b(v,{class:"icon"},{default:s((()=>[b(C,{size:"35",name:"qq-fill",color:"rgb(17,183,233)"})])),_:1}),c(" QQ ")])),_:1})])),_:1}),b(v,{class:"hint"},{default:s((()=>[c(" 登录代表同意 "),b(w,{class:"link"},{default:s((()=>[c(" 用户协议、隐私政策， ")])),_:1}),c(" 并授权使用您的账号信息（如昵称、头像、收获地址）以便您统一管理 ")])),_:1})])),_:1})}}}),[["__scopeId","data-v-3aceb727"]]);export{L as default};
