import{d as a,u as e,r as l,V as s,I as t,J as u,o as n,c as o,w as i,i as c,W as d,T as r,a as f,b as m,e as _,M as p,X as v,h as b,B as g,C as x,Y as h,Z as y,a0 as w,g as C,a1 as V,_ as $}from"./index-BMi8Lsf3.js";const k=$(a({__name:"index",setup(a){const $=e(),k=l("18502811111"),Q=l("1234"),z=l(),q=l(null),I=s((()=>{const a={};return k.value&&Q.value&&(a.color="#fff",a.backgroundColor=uni.$u.color.warning),a}));function T(a){z.value=a}function U(){var a;(null==(a=q.value)?void 0:a.canGetCode)?(g({title:"正在获取验证码"}),setTimeout((()=>{var a;x(),uni.$u.toast("验证码已发送"),null==(a=q.value)||a.start()}),1e3)):uni.$u.toast("倒计时结束后再发送")}async function j(){if(!uni.$u.test.mobile(Number(k.value)))return void uni.$u.toast("请输入正确的手机号");if(!Q.value)return void uni.$u.toast("请输入验证码");await $.login({phone:k.value,code:Q.value}).catch((()=>{uni.$u.toast("登录失败")}))&&(h("1234567890"),y({url:"/pages/tab/home/index"}))}return(a,e)=>{const l=c,s=w,g=t(u("u-button"),d),x=C,h=V,y=t(u("u-icon"),r);return n(),o(l,null,{default:i((()=>[f(l,{class:"login-form-wrap"},{default:i((()=>[f(l,{class:"title"},{default:i((()=>[m(" 欢迎登录 ")])),_:1}),f(s,{modelValue:_(k),"onUpdate:modelValue":e[0]||(e[0]=a=>p(k)?k.value=a:null),class:"u-border-bottom",type:"number",placeholder:"请输入手机号"},null,8,["modelValue"]),f(l,{class:"u-border-bottom my-40rpx flex"},{default:i((()=>[f(s,{modelValue:_(Q),"onUpdate:modelValue":e[1]||(e[1]=a=>p(Q)?Q.value=a:null),class:"flex-1",type:"number",placeholder:"请输入验证码"},null,8,["modelValue"]),f(l,null,{default:i((()=>[f(v,{ref_key:"uCodeRef",ref:q,onChange:T},null,512),f(g,{text:_(z),type:"success",size:"mini",onClick:U},null,8,["text"])])),_:1})])),_:1}),f(h,{class:"login-btn",style:b([_(I)]),onClick:j},{default:i((()=>[m(" 登录 "),f(x,{class:"i-mdi-login"})])),_:1},8,["style"]),f(l,{class:"alternative"},{default:i((()=>[f(l,{class:"password"},{default:i((()=>[m(" 密码登录 ")])),_:1}),f(l,{class:"issue flex items-center"},{default:i((()=>[m(" 遇到问题 "),f(x,{class:"i-mdi-help"})])),_:1})])),_:1})])),_:1}),f(l,{class:"login-type-wrap"},{default:i((()=>[f(l,{class:"item wechat"},{default:i((()=>[f(l,{class:"icon"},{default:i((()=>[f(y,{size:"35",name:"weixin-fill",color:"rgb(83,194,64)"})])),_:1}),m(" 微信 ")])),_:1}),f(l,{class:"item QQ"},{default:i((()=>[f(l,{class:"icon"},{default:i((()=>[f(y,{size:"35",name:"qq-fill",color:"rgb(17,183,233)"})])),_:1}),m(" QQ ")])),_:1})])),_:1}),f(l,{class:"hint"},{default:i((()=>[m(" 登录代表同意 "),f(x,{class:"link"},{default:i((()=>[m(" 用户协议、隐私政策， ")])),_:1}),m(" 并授权使用您的账号信息（如昵称、头像、收获地址）以便您统一管理 ")])),_:1})])),_:1})}}}),[["__scopeId","data-v-afd362e8"]]);export{k as default};
